<!--Cuadro magico-->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Cuadro Magico</title>
		<style type="text/css">
			table {
				width:300px;
				border-collapse: collapse;
				background-color: lightblue;
			}
			table, td, th {
				border: 1px solid black;
				padding: 4px;
			}
		</style>
		<script>
			do{
				var n;
				n=window.prompt("Inserte tama√±o de cuadro. CUIDE QUE EL NUMERO SEA IMPAR");
			}while(n%2==0);
			
			document.writeln("<table id='Table 1'>");
			for(var i=0; i<n; i++){
				document.writeln("<tr>");
				for(var j=0; j<n; j++){
					document.writeln("<td>0</td>");
				}
				document.writeln("</tr>");
			}
			document.writeln("</table>");
			
			var f=0;
			var c=parseInt(n/2);
			for(var k=1; k<=(n*n); k++){
				if(k==1){
					document.getElementById("Table 1").rows[f].cells[c].innerHTML=""+k; 
					f--;
					c++;
				}
				else if(c>=n && f<0 && ((document.getElementById("Table 1").rows[parseInt(f+2)].cells[parseInt(c-1)].innerText)==0)){	
					f=parseInt(f+2);
					c=parseInt(c-1);
					document.getElementById("Table 1").rows[f].cells[c].innerHTML=""+k;
					f--;
					c++;
				}
				else if(f<0 && ((document.getElementById("Table 1").rows[parseInt(n-1)].cells[c].innerText)==0)){
					f=parseInt(n-1);
					document.getElementById("Table 1").rows[f].cells[c].innerHTML=""+k;
					f--;
					c++;
				}
				else if(c>=n && ((document.getElementById("Table 1").rows[f].cells[0].innerText)==0)){
					c=0;
					document.getElementById("Table 1").rows[f].cells[c].innerHTML=""+k;
					f--;
					c++;
				}
				else if(((document.getElementById("Table 1").rows[f].cells[c].innerText)!=0)|| (c>=n && ((document.getElementById("Table 1").rows[f].cells[0].innerText)==0)) || (f<0 && ((document.getElementById("Table 1").rows[parseInt(n-1)].cells[c].innerText)==0))){
					f=parseInt(f+2);
					c=parseInt(c-1);
					document.getElementById("Table 1").rows[f].cells[c].innerHTML=""+k;
					f--;
					c++;
				}
				else{
					document.getElementById("Table 1").rows[f].cells[c].innerHTML=""+k;
					f--;
					c++;
				}
			}
		</script>
	</head>
	<body>
		<h2>Cuadro Magico</h2>
	</body>
</html>